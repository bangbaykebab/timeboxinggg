<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#1E203A" />
  <title>UangKu — Dashboard</title>

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Main stylesheet -->
  <link rel="stylesheet" href="/css/style.css">

  <!-- Favicon / icons (buat nanti di folder /icons) -->
  <link rel="icon" href="/icons/icon-192.png">
</head>
<body>
  <div id="app" class="app-root">
    <!-- Page: Dashboard (Halaman 1) -->
    <main id="page-dashboard" class="page active">
      <header class="header">
        <h1 class="greeting">Hi, <span id="user-name">User</span></h1>
        <p class="subtitle">Welcome to <strong>UangKu</strong>, track and manage your money easily every day.</p>
      </header>

      <section class="balance-card">
        <div class="balance-label">Current Balance</div>
        <div id="current-balance" class="balance-value">Rp 0</div>
      </section>

      <section class="summary-row">
        <div class="small-card">
          <div class="small-label">Income</div>
          <div id="month-income" class="small-value">Rp 0 /mo</div>
        </div>
        <div class="small-card">
          <div class="small-label">Expenses</div>
          <div id="month-expenses" class="small-value">Rp 0 /mo</div>
        </div>
      </section>

      <section class="history-list">
        <div class="history-header">
          <div class="col-left">Notes or History</div>
          <div class="col-right">Income / Expenses</div>
        </div>
        <div id="months-container" class="months-container">
          <!-- JS will populate months here (each row: Month Year + small income & expense values) -->
        </div>
      </section>
    </main>

    <!-- Page: Monthly History (Halaman 2) -->
    <main id="page-month" class="page">
      <header class="subheader">
        <button class="back-btn" data-back="dashboard">←</button>
        <h2 id="month-title">May 2025</h2>
      </header>

      <section class="month-summary">
        <div class="month-totals">
          <div class="label">Income</div>
          <div id="month-total-income">Rp 0</div>
        </div>
        <div class="month-totals">
          <div class="label">Expenses</div>
          <div id="month-total-expenses">Rp 0</div>
        </div>
      </section>

      <section class="days-list">
        <div class="days-header">
          <div class="col-left">Day</div>
          <div class="col-right">Income / Expenses</div>
        </div>
        <div id="days-container" class="days-container">
          <!-- JS will render day rows -->
        </div>
      </section>

      <button id="fab-add-month" class="fab" data-target="add">+</button>
    </main>

    <!-- Page: Daily History (Halaman 3) -->
    <main id="page-day" class="page">
      <header class="subheader">
        <button class="back-btn" data-back="month">←</button>
        <h2 id="day-title">Wednesday, 12</h2>
      </header>

      <section class="day-summary">
        <div class="day-totals">
          <div class="label">Income</div>
          <div id="day-total-income">Rp 0</div>
        </div>
        <div class="day-totals">
          <div class="label">Expenses</div>
          <div id="day-total-expenses">Rp 0</div>
        </div>
      </section>

      <section id="transactions-container" class="transactions-container">
        <!-- JS will render transaction cards here -->
      </section>

      <button id="fab-add-day" class="fab" data-target="add">+</button>
    </main>

    <!-- Modal: Add / Edit Transaction (Halaman 4 & 5) -->
    <div id="modal-form" class="modal hidden">
      <div class="modal-content">
        <header class="modal-header">
          <h3 id="modal-title">Add Transaction</h3>
        </header>

        <form id="form-transaction">
          <label class="field">
            <div class="field-label">Select date</div>
            <input id="field-date" type="date" required>
          </label>

          <div class="toggle-row">
            <label class="radio">
              <input type="radio" name="type" value="income" checked>
              <span>Income</span>
            </label>
            <label class="radio">
              <input type="radio" name="type" value="expense">
              <span>Expenses</span>
            </label>
          </div>

          <label class="field">
            <div class="field-label">Amount</div>
            <input id="field-amount" type="number" min="0" placeholder="add">
          </label>

          <label class="field">
            <div class="field-label">Description</div>
            <input id="field-desc" type="text" placeholder="add description">
          </label>

          <div class="modal-actions">
            <button type="button" id="btn-cancel" class="btn-cancel">Cancel</button>
            <button type="submit" id="btn-save" class="btn-save">Save</button>
          </div>

        </form>
      </div>
    </div>

  </div>

  <!-- App script -->
  <script src="/js/app.js"></script>
  <script>
    // register service worker (if available)
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js').catch(function(err){
        console.warn('SW registration failed: ', err);
      });
    }
  </script>
</body>
</html>
